{# views/Utilisateur/edit.html.twig #}
{% extends 'AdminBundle::admin_layout.html.twig' %}

{% block title %}
{# parent() : étendre le bloc parent #}
{{ parent() }} - {{ page_title }}
{% endblock %}

{% block stylesheets %}
{{ parent() }}
{% endblock %}

{% block body %}
<div class="row-fluid">
	<div class="span2">
	    <h4>Utilisateur</h4>
	    <h1><small>n#</small>{{ entity.id }}</h1>
	</div>
	<div class="span6">
<h1>{{ entity.prenom }}, {{ entity.nom }}
<small>{{ page_title }}</small></h1>

		<form action="{{ path('utilisateur_update', { 'id': entity.id }) }}" method="post" {{ form_enctype(edit_form) }} class="form-horizontal">
<div class="control-group">
{{ form_label(edit_form.nom, 'Nom', {'label_attr' : {'class':'control-label'} }) }}
<div class="controls">
{{ form_widget(edit_form.nom, {'attr' : {'placeholder' : 'Nom de l\'utilisateur'} } ) }}
{{ form_errors(edit_form.nom) }}
</div>
</div>

<div class="control-group">
{{ form_label(edit_form.prenom, 'Prénom', {'label_attr' : {'class':'control-label'} }) }}
<div class="controls">
{{ form_widget(edit_form.prenom, {'attr' : {'placeholder' : 'Prénom de l\'utilisateur'} } ) }}
{{ form_errors(edit_form.prenom) }}
</div>
</div>

<div class="control-group">
{{ form_label(edit_form.adresse, 'Adresse', {'label_attr' : {'class':'control-label'} }) }}
<div class="controls">
{{ form_widget(edit_form.adresse, {'attr' : {'placeholder' : 'Adresse'} } ) }}
{{ form_errors(edit_form.adresse) }}
</div>
</div>

<div class="control-group">
{{ form_label(edit_form.code_postal, 'Code postal', {'label_attr' : {'class':'control-label'} }) }}
<div class="controls">
{{ form_widget(edit_form.code_postal, {'attr' : {'placeholder' : 'Code postal'} } ) }}
{{ form_errors(edit_form.code_postal) }}
</div>
</div>

<div class="control-group">
{{ form_label(edit_form.ville, 'Ville', {'label_attr' : {'class':'control-label'} }) }}
<div class="controls">
{{ form_widget(edit_form.ville, {'attr' : {'placeholder' : 'Ville'} } ) }}
{{ form_errors(edit_form.ville) }}
</div>
</div>

<div class="control-group">
{{ form_label(edit_form.pays, 'Pays', {'label_attr' : {'class':'control-label'} }) }}
<div class="controls">
{{ form_widget(edit_form.pays, {'attr' : {'placeholder' : 'Pays'} } ) }}
{{ form_errors(edit_form.pays) }}
</div>
</div>

    {{ form_rest(edit_form) }}
<div class="control-group">
<div class="controls">
<button type="submit" class="btn btn-success"><i class="icon-ok icon-white"></i> Enregistrer</button>
</div>
</div>
</form>
	</div> <!-- / .row-fluid .span6 -->
	
	<div class="span4">
	    <div class="btn-group">
		<a href="{{ path('utilisateur_show', {'id' : entity.id }) }}" class="btn"><i class="icon-circle-arrow-left"></i> Retour</a>
		<a class="btn bt_delete btn-danger" href="{{ path('utilisateur_delete', { 'id': entity.id }) }}"><i class="icon-remove icon-white"></i> Supprimer</a>
	    </div>
	</div>
</div><!-- / .row-fluid -->
{% endblock %}
{% block javascripts %}
<script>

    $(document).ready(function(){
       $('.bt_delete').on('click', function(e){
           e.preventDefault();
           $('.modal-footer a.btn-primary').attr('href', $(this).attr('href'));
           $('#pop_delete').modal('show');
       });
    });

</script>
{% endblock %}

{% block popup %}
<div id="pop_delete" class="modal hide fade">
  <div class="modal-header">
    <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
    <h3>Supprimer un abonnement</h3>
  </div>
  <div class="modal-body">
    <p>Voulez-vous vraiment supprimer définitivement cet utilisateur ?</p>
  </div>
  <div class="modal-footer">
    <a href="{{ path('utilisateur_edit', { 'id': entity.id }) }}" class="btn"> Annuler</a>
    <a href="#" class="btn btn-danger"><i class="icon-remove icon-white"></i> Confirmer</a>
  </div>
</div>

{% endblock %}